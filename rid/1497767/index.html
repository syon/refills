<!DOCTYPE html><html lang="ja"><head><title>モダン CODE TIPS :: JavaScript | Refills</title><meta property="og:type" content="article"><meta property="og:locale" content="ja_JP"><meta property="og:title" content="モダン CODE TIPS :: JavaScript | Refills"><meta property="og:site_name" content="Refills"><meta property="og:type" content="article"><meta property="og:url" content="https://syon.github.io/refills/rid/1497767/"><link rel="canonical" href="https://syon.github.io/refills/rid/1497767/"><meta property="og:image" content="https://syon.github.io/refills/assets/img/ogp.png"><meta charset="utf-8"><meta name="viewport" content="initial-scale=1, width=device-width"><link rel="stylesheet" href="/refills/assets/vendor/octicons/octicons.min.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Italianno|Lato:400,700,900|Merriweather:400,400italic,700,700italic"><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css"><link rel="stylesheet" href="/refills/assets/bundle.css"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-37634759-11', 'auto');
ga('send', 'pageview');</script></head><body><header class="site-head"><div class="container"><div class="logo"><a href="/refills/"><h1 class="site-name">Refills</h1></a></div></div></header><section id="article"><div class="a-title"><div class="r-meta-cate"><span class="r-category">JavaScript</span></div><h1 class="r-title">モダン CODE TIPS</h1><div class="r-meta-date"><a href="https://github.com/syon/refills/commits/master/src/refills/javascript/modern-code-tips.md" target="_blank" class="r-date"><span>2019.7.25</span></a></div></div><article class="main"><div class="sect1">
<h2 id="_cheatsheet">Cheatsheet</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://devhints.io/es6">ES2015+ cheatsheet</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_async_await">async / await</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_sleep_wait">Sleep / Wait</h3>
<div class="listingblock">
<div class="title">async&#x95A2;&#x6570;&#x306E;&#x4E2D;</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js"><span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>r <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">&#x5373;&#x6642;&#x95A2;&#x6570;</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js"><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;start&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>r <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;end&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Top-level async function</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js"><span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>e <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// Deal with the fact the chain failed</span>
  console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__for_loop">&#x975E;&#x540C;&#x671F;&#x51E6;&#x7406;&#x306E; For Loop &#x7E70;&#x308A;&#x8FD4;&#x3057;</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://stackoverflow.com/questions/37576685/using-async-await-with-a-foreach-loop">javascript - Using async/await with a forEach loop - Stack Overflow</a></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">&#x76F4;&#x5217;&#x5B9F;&#x884C;</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js"><span class="token keyword">async</span> <span class="token keyword">function</span> printFiles <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> files <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getFilePaths</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> file <span class="token keyword">of</span> files<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> contents <span class="token operator">=</span> <span class="token keyword">await</span> fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> <span class="token string">&apos;utf8&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>contents<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">&#x4E26;&#x5217;&#x5B9F;&#x884C;</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js"><span class="token keyword">async</span> <span class="token keyword">function</span> printFiles <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> files <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getFilePaths</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">await</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>files<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span>file<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> contents <span class="token operator">=</span> <span class="token keyword">await</span> fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> <span class="token string">&apos;utf8&apos;</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>contents<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
</div>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><code>Promise.all</code> is all or nothing.</p>
</div>
</blockquote>
<div class="attribution">
&#x2014; <a href="https://stackoverflow.com/questions/30362733/handling-errors-in-promise-all">javascript - Handling errors in Promise.all - Stack Overflow</a>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_class">Class / &#x30AF;&#x30E9;&#x30B9;</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://tylermcginnis.com/javascript-private-and-public-class-fields/">JavaScript Private and Public Class Fields</a></p>
</li>
<li>
<p><a href="https://blog.jxck.io/entries/2019-03-14/private-class-field.html">Private Class Field &#x306E;&#x5C0E;&#x5165;&#x306B;&#x4F34;&#x3046; JS &#x306E;&#x69CB;&#x6587;&#x62E1;&#x5F35; | blog.jxck.io</a></p>
</li>
<li>
<p><a href="https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Classes#Field_declarations">&#x30AF;&#x30E9;&#x30B9; - JavaScript | MDN&#x2009;&#x2014;&#x2009;#&#x30D5;&#x30A3;&#x30FC;&#x30EB;&#x30C9;&#x5BA3;&#x8A00;</a></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js"><span class="token keyword">class</span> <span class="token class-name">Player</span> <span class="token punctuation">{</span>
  name <span class="token operator">=</span> <span class="token string">&apos;Anonymous&apos;</span>
  points <span class="token operator">=</span> <span class="token number">0</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
  <span class="token punctuation">}</span>

  <span class="token function">addPoints</span><span class="token punctuation">(</span>amount<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Player<span class="token punctuation">.</span><span class="token function">shout</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`got </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>amount<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> points!`</span></span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>points <span class="token operator">+</span><span class="token operator">=</span> amount
  <span class="token punctuation">}</span>

  <span class="token keyword">static</span> <span class="token function">shout</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Player</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
p<span class="token punctuation">.</span><span class="token function">addPoints</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">//=&gt; GOT 5 PT!</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_n">n&#x56DE;&#x30EB;&#x30FC;&#x30D7;</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js"><span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">//=&gt; 0</span>
<span class="token comment" spellcheck="true">//=&gt; 1</span>
<span class="token comment" spellcheck="true">//=&gt; 2</span>
<span class="token comment" spellcheck="true">//=&gt; 3</span>
<span class="token comment" spellcheck="true">//=&gt; 4</span>

<span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&apos;&#x2605;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&apos;&apos;</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">//=&gt; &#x2605;&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;&#x2605;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_object">Object&#x306E;&#x8907;&#x88FD;&#x30FB;&#x30DE;&#x30FC;&#x30B8;</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Object/assign">Object.assign() - JavaScript | MDN</a></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x3092;&#x8907;&#x88FD;&#x3059;&#x308B;</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> copy <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>copy<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { a: 1 }</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x3092;&#x30DE;&#x30FC;&#x30B8;&#x3059;&#x308B;</div>
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js"><span class="token keyword">const</span> o1 <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> o2 <span class="token operator">=</span> <span class="token punctuation">{</span> b<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> o3 <span class="token operator">=</span> <span class="token punctuation">{</span> c<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>o1<span class="token punctuation">,</span> o2<span class="token punctuation">,</span> o3<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { a: 1, b: 2, c: 3 }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o1<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// { a: 1, b: 2, c: 3 }, target&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x81EA;&#x8EAB;&#x304C;&#x5909;&#x5316;&#x3059;&#x308B;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_array">Array</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="__sort">&#x30BD;&#x30FC;&#x30C8; (sort)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Array/sort">Array.prototype.sort() - JavaScript | MDN</a></p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
&#x30BD;&#x30FC;&#x30C8;&#x306F;&#x5BFE;&#x8C61;&#x914D;&#x5217;&#x4E0A;&#x3067;&#x76F4;&#x63A5;&#x884C;&#x308F;&#x308C;&#x308B;&#x3053;&#x3068;&#x306B;&#x6CE8;&#x610F;&#x3057;&#x3066;&#x4E0B;&#x3055;&#x3044;&#x3002;&#x30B3;&#x30D4;&#x30FC;&#x3055;&#x308C;&#x305F;&#x5225;&#x306E;&#x914D;&#x5217;&#x304C;&#x6E96;&#x5099;&#x3055;&#x308C;&#x308B;&#x3053;&#x3068;&#x306F;&#x3042;&#x308A;&#x307E;&#x305B;&#x3093;&#x3002;
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js"><span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">&apos;apple&apos;</span><span class="token punctuation">,</span> price<span class="token punctuation">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">&apos;orange&apos;</span><span class="token punctuation">,</span> price<span class="token punctuation">:</span> <span class="token number">98</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">&apos;banana&apos;</span><span class="token punctuation">,</span> price<span class="token punctuation">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">&apos;melon&apos;</span><span class="token punctuation">,</span> price<span class="token punctuation">:</span> <span class="token number">500</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">&apos;mango&apos;</span><span class="token punctuation">,</span> price<span class="token punctuation">:</span> <span class="token number">398</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
items<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a<span class="token punctuation">.</span>price <span class="token operator">-</span> b<span class="token punctuation">.</span>price
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">//=&gt;</span>
<span class="token comment" spellcheck="true">// { name: &apos;banana&apos;, price: 50 }</span>
<span class="token comment" spellcheck="true">// { name: &apos;orange&apos;, price: 98 }</span>
<span class="token comment" spellcheck="true">// { name: &apos;apple&apos;, price: 100 }</span>
<span class="token comment" spellcheck="true">// { name: &apos;mango&apos;, price: 398 }</span>
<span class="token comment" spellcheck="true">// { name: &apos;melon&apos;, price: 500 }</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__">&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x304B;&#x3089;&#x914D;&#x5217;&#x306B;&#x5909;&#x63DB;</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Object.entries() &#x203B;ES2017</dt>
<dd>
<p>[key, value] &#x304B;&#x3089;&#x306A;&#x308B;&#x914D;&#x5217;&#x3092;&#x8FD4;&#x3059;&#x3002;map&#x306B;&#x6E21;&#x305B;&#x3070;&#x3001;&#x8FD4;&#x3059;&#x914D;&#x5217;&#x306E;&#x4E2D;&#x3067;key&#x306E;&#x6271;&#x3044;&#x3092;&#x81EA;&#x7531;&#x306B;&#x3067;&#x304D;&#x308B;&#x3002;
&#x30B9;&#x30D7;&#x30EC;&#x30C3;&#x30C9;&#x69CB;&#x6587; <code>&#x2026;&#x200B;value</code> &#x3092;&#x4F7F;&#x3048;&#x3070;value&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x306B;&#x30DE;&#x30FC;&#x30B8;&#x3057;&#x305F;&#x914D;&#x5217;&#x3092;&#x4F5C;&#x308C;&#x308B;&#x3002;</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Object/entries">Object.entries() - JavaScript | MDN</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js"><span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token punctuation">{</span>
  apple<span class="token punctuation">:</span> <span class="token punctuation">{</span> price<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token string">&apos;red&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  melon<span class="token punctuation">:</span> <span class="token punctuation">{</span> price<span class="token punctuation">:</span> <span class="token number">500</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token string">&apos;green&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  lemon<span class="token punctuation">:</span> <span class="token punctuation">{</span> price<span class="token punctuation">:</span> <span class="token number">248</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token string">&apos;yellow&apos;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>items<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> v<span class="token punctuation">.</span>price<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">//=&gt; [100, 500, 398]</span>

Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>items<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> k<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>v <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">//=&gt; [</span>
<span class="token comment" spellcheck="true">//  { name: &apos;apple&apos;, price: 100, color: &apos;red&apos; }</span>
<span class="token comment" spellcheck="true">//  { name: &apos;melon&apos;, price: 500, color: &apos;green&apos; }</span>
<span class="token comment" spellcheck="true">//  { name: &apos;lemon&apos;, price: 248, color: &apos;yellow&apos; }</span>
<span class="token comment" spellcheck="true">// ]</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__reduce">&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x914D;&#x5217;&#x306E; reduce</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce">JavaScript Demo: Array.reduce()</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>&#x30A2;&#x30AD;&#x30E5;&#x30E0;&#x30EC;&#x30FC;&#x30BF;&#x30FC; (acc) &#x304C;&#x76F4;&#x524D;&#x306E;&#x53CD;&#x5FA9;&#x51E6;&#x7406;&#x306E;&#x8FD4;&#x5024;&#x306A;&#x306E;&#x3067;&#x3001;&#x5408;&#x8A08;&#x5024;&#x3092;&#x8A08;&#x7B97;&#x3059;&#x308B;&#x306E;&#x3067;&#x3042;&#x308C;&#x3070;&#x578B;&#x306F;&#x6570;&#x5024;&#x3002;
&#x914D;&#x5217;&#x305D;&#x306E;&#x307E;&#x307E;&#x3092; reduce &#x3059;&#x308B;&#x3068;&#x3001;&#x521D;&#x56DE;&#x306E; acc &#x304C;&#x5148;&#x982D;&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x3068;&#x306A;&#x3063;&#x3066;&#x3057;&#x307E;&#x3044;&#x3001;
acc.price &#x3068;&#x66F8;&#x304F;&#x3068;&#x53CD;&#x5FA9;2&#x56DE;&#x76EE;&#x4EE5;&#x964D;&#x3067;&#x6570;&#x5024;&#x304C;&#x8FD4;&#x3063;&#x3066;&#x304F;&#x308B;&#x305F;&#x3081;&#x4E0D;&#x6574;&#x5408;&#x3068;&#x306A;&#x308B;&#x3002;
&#x305D;&#x3053;&#x3067;&#x7B2C;2&#x5F15;&#x6570;&#x306E; initialValue &#x306B; 0 &#x3092;&#x6E21;&#x3059;&#x3053;&#x3068;&#x3067;&#x521D;&#x56DE;&#x304B;&#x3089; acc &#x3092; 0 &#x306B;&#x3057;&#x3066;&#x3044;&#x308B;&#x3002;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js"><span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">&apos;apple&apos;</span><span class="token punctuation">,</span> price<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token string">&apos;red&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">&apos;melon&apos;</span><span class="token punctuation">,</span> price<span class="token punctuation">:</span> <span class="token number">500</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token string">&apos;green&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">&apos;lemon&apos;</span><span class="token punctuation">,</span> price<span class="token punctuation">:</span> <span class="token number">248</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token string">&apos;yellow&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">&apos;peach&apos;</span><span class="token punctuation">,</span> price<span class="token punctuation">:</span> <span class="token number">378</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token string">&apos;pink&apos;</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token comment" spellcheck="true">/*
 * acc: &#x524D;&#x51E6;&#x7406;&#x306E;&#x8FD4;&#x5024;(price)
 * cur: &#x73FE;&#x5728;&#x5024;(object)
 */</span>
items<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>acc<span class="token punctuation">,</span> cur<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> acc <span class="token operator">+</span> cur<span class="token punctuation">.</span>price
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">//=&gt; 1226</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__unique_distinct">&#x91CD;&#x8907;&#x306E;&#x9664;&#x53BB; (unique / distinct)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://qiita.com/waka-ka/items/694866bd1a6a90289c33">[Javascript] &#x914D;&#x5217;&#x306E;&#x91CD;&#x8907;&#x3092;&#x53D6;&#x308A;&#x51FA;&#x3059;&#x65B9;&#x6CD5; - Qiita</a></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js"><span class="token keyword">const</span> animals <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;cat&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cat&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;dog&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;mouse&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;dog&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> distinctAnimals <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>animals<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//=&gt; [&quot;cat&quot;, &quot;dog&quot;, &quot;mouse&quot;]</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="___2">&#x6307;&#x5B9A;&#x3057;&#x305F;&#x7BC4;&#x56F2;&#x306E;&#x6574;&#x6570;&#x914D;&#x5217;</h3>
<div class="ulist">
<ul>
<li>
<p><a href="http://blog.mudatobunka.org/entry/2015/10/31/222750">&#x6307;&#x5B9A;&#x3057;&#x305F;&#x7BC4;&#x56F2;&#x306E;&#x6574;&#x6570;&#x914D;&#x5217;&#x306E;&#x4F5C;&#x308A;&#x65B9; in JavaScript ES6 - &#x7121;&#x99C4;&#x3068;&#x6587;&#x5316;</a></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">// =&gt; [0, 1, 2, ..., 99]</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js">console<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token string">&apos;16&apos;</span><span class="token punctuation">:</span> n<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&apos;36&apos;</span><span class="token punctuation">:</span> n<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_import">import</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Statements/import">import - JavaScript | MDN</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="___3">&#x5225;&#x540D;&#x3092;&#x3064;&#x3051;&#x308B;</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-js" data-lang="js"><span class="token keyword">import</span> <span class="token punctuation">{</span> member <span class="token keyword">as</span> alias <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;module-name&quot;</span><span class="token punctuation">;</span></code></pre>
</div>
</div>
</div>
</div>
</div></article><div class="adsense"><div><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Refills Bottom (Responsive) -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2136746860059501"
     data-ad-slot="2358320270"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div></div><footer><hr><h3>Index of&nbsp;<a href="/refills/bid/javascript/">JavaScript</a></h3><div class="article-links"><a href="/refills/rid/1463065/"><div class="left"><span class="octicon octicon-file-text"></span>CODE TIPS</div></a><a href="/refills/rid/1492530/"><div class="left"><span class="octicon octicon-file-text"></span>Node.js CODE TIPS</div></a><a href="/refills/rid/1494600/"><div class="left"><span class="octicon octicon-file-text"></span>Fetch API まとめ</div></a><a href="/refills/rid/1497767/"><div class="left"><span class="octicon octicon-file-text"></span>モダン CODE TIPS</div></a><a href="/refills/rid/1499505/"><div class="left"><span class="octicon octicon-file-text"></span>HTTP×Electronアプリのひな形の作り方から配布まで</div></a><a href="/refills/rid/1511515/"><div class="left"><span class="octicon octicon-file-text"></span>npm debug の使い方</div></a><a href="/refills/rid/1518800/"><div class="left"><span class="octicon octicon-file-text"></span>古いJavaScript(ES5)でもESLint・Prettierの恩恵を受けよう</div></a><a href="/refills/rid/1546773/"><div class="left"><span class="octicon octicon-file-text"></span>Node.js CSV まとめ</div></a><a href="/refills/rid/1564145/"><div class="left"><span class="octicon octicon-file-text"></span>Node.js × SQL Server 使い方</div></a><a href="/refills/rid/1566555/"><div class="left"><span class="octicon octicon-file-text"></span>Moment.js メモ</div></a></div></footer><footer><hr><div class="meta"><div class="left"><a href="https://github.com/syon" class="author"><img src="/refills/assets/img/syon.jpg" alt="syon" target="_blank"><span>syon</span></a></div><div class="right"><div class="repo"><span><a href="https://github.com/syon/refills/commits/master/src/refills/javascript/modern-code-tips.md" target="_blank">更新履歴</a></span><a href="https://github.com/syon/refills" target="_blank">Repo</a><a href="https://app.wercker.com/project/byKey/3938da859441da2240b9f5d8f7d9f9fd"><img alt="Wercker status" src="https://app.wercker.com/status/3938da859441da2240b9f5d8f7d9f9fd/s/master"></a></div></div></div></footer></section></body></html>